# Scheduled work
sch_days_mean = mean(sch_days, na.rm = TRUE),
sch_days_sd = sd(sch_days, na.rm = TRUE),
sch_hrs_mean = mean(sch_hrs, na.rm = TRUE),
sch_hrs_sd = sd(sch_hrs, na.rm = TRUE),
# System time
sys_hrs_mean = mean(sys_hrs, na.rm = TRUE),
sys_hrs_sd = sd(sys_hrs, na.rm = TRUE),
# After-hours work
aft_hrs_mean = mean(aft_hrs, na.rm = TRUE),
aft_hrs_sd = sd(aft_hrs, na.rm = TRUE),
aft_hrs_sys_ratio_mean = mean(aft_hrs_sys_ratio, na.rm = TRUE),
# Appointments
appts_mean = mean(appts, na.rm = TRUE),
appts_sd = sd(appts, na.rm = TRUE),
# In-basket time
ib_hrs_mean = mean(ib_hrs, na.rm = TRUE),
ib_hrs_sd = sd(ib_hrs, na.rm = TRUE),
# Message volume
msg_all_mean = mean(msg_all, na.rm = TRUE),
msg_all_sd = sd(msg_all, na.rm = TRUE),
# Message completion times
dtc_all_mean = mean(dtc_all, na.rm = TRUE),
dtc_all_sd = sd(dtc_all, na.rm = TRUE),
.groups = "drop"
)
View(desc_stats)
# Summary statistics
providers <- core |>
summarise(
`All` = sprintf("%d (%.0f)", n(), 100),
`  Staff` = sprintf("%d (%.1f)", sum(group == "Staff"), 100 * mean(group == "Staff)")),
`    MD` = sprintf("%d (%.1f)", sum(type == "MD"), 100 * mean(type == "MD")),
`    NP` = sprintf("%d (%.1f)", sum(type == "NP"), 100 * mean(type == "NP")),
`  Trainee` = sprintf("%d (%.1f)", sum(group == "Trainee"), 100 * mean(group == "Trainee"))
)
View(providers)
# Summary statistics
providers <- core |>
summarise(
`All` = sprintf("%d (%.0f)", n(), 100),
`  Staff` = sprintf("%d (%.1f)", sum(group == "Staff"), 100 * mean(group == "Staff")),
`    MD` = sprintf("%d (%.1f)", sum(type == "MD"), 100 * mean(type == "MD")),
`    NP` = sprintf("%d (%.1f)", sum(type == "NP"), 100 * mean(type == "NP")),
`  Trainee` = sprintf("%d (%.1f)", sum(group == "Trainee"), 100 * mean(group == "Trainee"))
)
View(providers)
# Summary statistics
providers <- core |>
summarise(
`All` = sprintf("%d (%.0f)", n(), 100),
`  Staff` = sprintf("%d (%.1f)", sum(group == "Staff"), 100 * mean(group == "Staff")),
`    MD` = sprintf("%d (%.1f)", sum(type == "MD"), 100 * mean(type == "MD")),
`    NP` = sprintf("%d (%.1f)", sum(type == "NP"), 100 * mean(type == "NP")),
`  Trainee` = sprintf("%d (%.1f)", sum(group == "Trainee"), 100 * mean(group == "Trainee"))
)
View(providers)
sch <- core |>
summarise(
across(
starts_with("sch_"),
list(
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col}_{fn}"
)
)
View(sch)
sch <- core |>
summarise(
across(
starts_with("sch_"),
list(
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col}_{fn}"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
View(sch)
sch <- core |>
summarise(
across(
starts_with("sch_"),
list(
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
View(sch)
sch <- core |>
summarise(
across(
starts_with("sch_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
View(sch)
# Load the core dataset for analysis
core <- readRDS("data/core.rds")
# Summary statistics
prv <- core |>
summarise(
`All` = sprintf("%d (%.0f)", n(), 100),
`  Staff` = sprintf("%d (%.1f)", sum(group == "Staff"), 100 * mean(group == "Staff")),
`    MD` = sprintf("%d (%.1f)", sum(type == "MD"), 100 * mean(type == "MD")),
`    NP` = sprintf("%d (%.1f)", sum(type == "NP"), 100 * mean(type == "NP")),
`  Trainee` = sprintf("%d (%.1f)", sum(group == "Trainee"), 100 * mean(group == "Trainee"))
) |> pivot_longer(everything(), names_to = "Providers", values_to = "n (%)")
sch <- core |>
summarise(
across(
starts_with("sch_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
sys <- core |>
summarise(
across(
starts_with("sys_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
aft <- core |>
summarise(
across(
starts_with("aft_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
appts <- core |>
summarise(
across(
starts_with("appts_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
msg <- core |>
summarise(
across(
starts_with("msg_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
dtc <- core |>
summarise(
across(
starts_with("dtc_"),
list(
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
ib <- core |>
summarise(
across(
starts_with("ib_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
mpa <- core |>
summarise(
across(
starts_with("mpa_"),
list(
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
# Combine all summaries
summary_stats <- bind_rows(sch, sys, aft, appts, msg, dtc, ib, mpa)
View(summary_stats)
View(sch)
# Load the core dataset for analysis
core <- readRDS("data/core.rds")
# Summary statistics
prv <- core |>
summarise(
`All` = sprintf("%d (%.0f)", n(), 100),
`  Staff` = sprintf("%d (%.1f)", sum(group == "Staff"), 100 * mean(group == "Staff")),
`    MD` = sprintf("%d (%.1f)", sum(type == "MD"), 100 * mean(type == "MD")),
`    NP` = sprintf("%d (%.1f)", sum(type == "NP"), 100 * mean(type == "NP")),
`  Trainee` = sprintf("%d (%.1f)", sum(group == "Trainee"), 100 * mean(group == "Trainee"))
) |> pivot_longer(everything(), names_to = "Providers", values_to = "n (%)")
sch <- core |>
summarise(
across(
starts_with("sch_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
sys <- core |>
summarise(
across(
starts_with("sys_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
aft <- core |>
summarise(
across(
starts_with("aft_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
appts <- core |>
summarise(
across(
starts_with("appts_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
msg <- core |>
summarise(
across(
starts_with("msg_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
dtc <- core |>
summarise(
across(
starts_with("dtc_"),
list(
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
ib <- core |>
summarise(
across(
starts_with("ib_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
mpa <- core |>
summarise(
across(
starts_with("mpa_"),
list(
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |> pivot_longer(everything(), names_to = "Metric", values_to = "Value")
# Combine all summaries
summary_stats <- bind_rows(sch, sys, aft, appts, msg, dtc, ib, mpa)
# Load the core dataset for analysis
core <- readRDS("data/core.rds")
# Summary statistics
prv <- core |>
summarise(
`All` = sprintf("%d (%.0f)", n(), 100),
`  Staff` = sprintf("%d (%.1f)", sum(group == "Staff"), 100 * mean(group == "Staff")),
`    MD` = sprintf("%d (%.1f)", sum(type == "MD"), 100 * mean(type == "MD")),
`    NP` = sprintf("%d (%.1f)", sum(type == "NP"), 100 * mean(type == "NP")),
`  Trainee` = sprintf("%d (%.1f)", sum(group == "Trainee"), 100 * mean(group == "Trainee"))
) |> pivot_longer(everything(), names_to = "Providers", values_to = "n (%)")
# Helper function to reshape summary so that each stat is its own column
summarise_long_to_wide <- function(df) {
df |>
pivot_longer(
everything(),
names_to = c("Metric", "Stat"),
names_pattern = "^(.*) \\((.*)\\)$"
) |>
pivot_wider(
names_from = Stat,
values_from = value
)
}
sch <- core |>
summarise(
across(
starts_with("sch_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |>
summarise_long_to_wide()
sys <- core |>
summarise(
across(
starts_with("sys_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |>
summarise_long_to_wide()
aft <- core |>
summarise(
across(
starts_with("aft_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |>
summarise_long_to_wide()
appts <- core |>
summarise(
across(
starts_with("appts_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |>
summarise_long_to_wide()
msg <- core |>
summarise(
across(
starts_with("msg_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |>
summarise_long_to_wide()
dtc <- core |>
summarise(
across(
starts_with("dtc_"),
list(
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |>
summarise_long_to_wide()
ib <- core |>
summarise(
across(
starts_with("ib_"),
list(
Sum = ~ sum(.x, na.rm = TRUE),
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |>
summarise_long_to_wide()
mpa <- core |>
summarise(
across(
starts_with("mpa_"),
list(
Mean = ~ mean(.x, na.rm = TRUE),
SD = ~ sd(.x, na.rm = TRUE),
Median = ~ median(.x, na.rm = TRUE),
IQR = ~ IQR(.x, na.rm = TRUE)
),
.names = "{col} ({fn})"
)
) |>
summarise_long_to_wide()
# Combine all summaries
summary_stats <- bind_rows(sch, sys, aft, appts, msg, dtc, ib, mpa)
View(dtc)
View(prv)
View(sys)
View(dtc)
install.packages("ragg"
)
